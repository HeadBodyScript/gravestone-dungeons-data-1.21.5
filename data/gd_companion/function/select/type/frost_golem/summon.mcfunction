data merge entity @s {CustomName:[{"text":"Frenzy Frost Golem","color":"aqua"}],Health:1024,PersistenceRequired:1b,Tags:["companion","frostguard"],DeathLootTable:"empty",Team:DIREWOOD,HandItems:[{id:iron_sword,components:{enchantments:{levels:{knockback:2,sharpness:2,smite:2,sweeping_edge:3,unbreaking:10}}},count:1},{}],HandDropChances:[0f,0f],ArmorItems:[{id:iron_boots,components:{enchantments:{levels:{frost_walker:2,unbreaking:10}}},count:1},{id:iron_leggings,components:{enchantments:{levels:{unbreaking:10}}},count:1},{id:iron_chestplate,components:{enchantments:{levels:{unbreaking:10}}},count:1},{id:iron_helmet,components:{enchantments:{levels:{unbreaking:10}}},count:1}],ArmorDropChances:[0f,0f,0f,0f],attributes:[{id:"minecraft:attack_damage",base:10},{id:"minecraft:max_health",base:1024},{id:"minecraft:safe_fall_distance",base:10},{id:"minecraft:scale",base:1.2},{id:"minecraft:step_height",base:1},{id:"minecraft:burning_time",base:12}]}
scoreboard players operation @s entity.companion.duration = @e[type=minecraft:area_effect_cloud,limit=1,sort=nearest] entity.companion.duration
scoreboard players operation @s UUID = @e[type=minecraft:area_effect_cloud,limit=1,sort=nearest] UUID
scoreboard players operation @s user.companion.count.perk = @e[type=minecraft:area_effect_cloud,limit=1,sort=nearest] user.companion.count.perk
execute at @s as @e[tag=companion] if score @s UUID = @e[limit=1,sort=nearest] UUID run scoreboard players add @s INT 1
execute if score @s INT < @s user.companion.count.perk at @s as @a if score @s UUID = @e[limit=1,sort=nearest] UUID at @s as @e[tag=companion] if score @s INT > @s user.companion.count.perk run kill @s