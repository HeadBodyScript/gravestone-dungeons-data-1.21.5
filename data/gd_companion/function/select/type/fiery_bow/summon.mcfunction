data merge entity @s {CustomName:[{"text":"Fiery Bow Guardian","color":"#ff6600"}],Health:70,PersistenceRequired:1b,Tags:["companion"],DeathLootTable:"empty",Team:DIREWOOD,active_effects:[{id:invisibility,duration:-1,amplifier:0,ambient:1b,show_particles:1b},{id:fire_resistance,duration:-1,amplifier:0,ambient:1b,show_particles:1b}],HandItems:[{id:bow,components:{"minecraft:custom_model_data":1,enchantments:{levels:{flame:1,"gd_enchantment:tongue_of_fire":1}},"minecraft:enchantment_glint_override":false,count:1}},{}],HandDropChances:[0f,0f],ArmorItems:[{id:golden_boots,components:{enchantments:{levels:{unbreaking:10}}},count:1},{id:golden_leggings,components:{enchantments:{levels:{unbreaking:10}}},count:1},{id:golden_chestplate,components:{enchantments:{levels:{unbreaking:10}}},count:1},{id:golden_helmet,components:{enchantments:{levels:{unbreaking:10}}},count:1}],ArmorDropChances:[0f,0f,0f,0f],attributes:[{id:"max_health",base:70f},{id:"minecraft:scale",base:1.1}]}
scoreboard players operation @s entity.modifier.companion.duration = @e[type=minecraft:area_effect_cloud,limit=1,sort=nearest] entity.modifier.companion.duration
scoreboard players operation @s UUID = @e[type=minecraft:area_effect_cloud,limit=1,sort=nearest] UUID
scoreboard players operation @s user.companion.INT.perk = @e[type=minecraft:area_effect_cloud,limit=1,sort=nearest] user.companion.INT.perk
execute at @s as @e[tag=companion] if score @s UUID = @e[limit=1,sort=nearest] UUID run scoreboard players add @s INT 1
execute if score @s INT < @s user.companion.INT.perk at @s as @a if score @s UUID = @e[limit=1,sort=nearest] UUID at @s as @e[tag=companion] if score @s INT > @s user.companion.INT.perk run kill @s