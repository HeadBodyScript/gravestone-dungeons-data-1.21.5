execute as @p at @s if entity @e[type=#gd_main:companion_can_attack,distance=..12,tag=!companion] as @e[type=#gd_main:companion,tag=poisonguard,limit=1,sort=nearest] run function gd_companion:select/type/poison_golem/attack